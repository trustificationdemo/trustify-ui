import type React from "react";

import {
  DescriptionList,
  DescriptionListDescription,
  DescriptionListGroup,
  DescriptionListTerm,
  Grid,
  GridItem,
  Stack,
  StackItem,
} from "@patternfly/react-core";

import type { VulnerabilityDetails } from "@app/client";
import { VulnerabilityDescription } from "@app/components/VulnerabilityDescription";
import { formatDate } from "@app/utils/utils";

interface OverviewProps {
  vulnerability: VulnerabilityDetails;
}

export const Overview: React.FC<OverviewProps> = ({ vulnerability }) => {
  return (
    <>
      <Stack hasGutter>
        <StackItem>
          <Grid hasGutter>
            <GridItem md={10}>
              <Grid>
                <GridItem md={8}>
                  <DescriptionListGroup>
                    <DescriptionListDescription>
                      <VulnerabilityDescription vulnerability={vulnerability} />
                    </DescriptionListDescription>
                  </DescriptionListGroup>
                </GridItem>
              </Grid>
            </GridItem>
            <GridItem md={10}>
              <DescriptionList
                columnModifier={{
                  default: "3Col",
                }}
              >
                <DescriptionListGroup>
                  <DescriptionListTerm>Reserved</DescriptionListTerm>
                  <DescriptionListDescription>
                    {formatDate(vulnerability.reserved)}
                  </DescriptionListDescription>
                </DescriptionListGroup>
                <DescriptionListGroup>
                  <DescriptionListTerm>Published date</DescriptionListTerm>
                  <DescriptionListDescription>
                    {formatDate(vulnerability.published)}
                  </DescriptionListDescription>
                </DescriptionListGroup>
                <DescriptionListGroup>
                  <DescriptionListTerm>Last modified</DescriptionListTerm>
                  <DescriptionListDescription>
                    {formatDate(vulnerability.modified)}
                  </DescriptionListDescription>
                </DescriptionListGroup>
              </DescriptionList>
            </GridItem>
          </Grid>
        </StackItem>
      </Stack>
    </>
  );
};
